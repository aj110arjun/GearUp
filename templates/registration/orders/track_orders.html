{% extends 'registration/account.html' %}
{% block account_content %}
<div class="container mt-5">
  <h2>Track Your Order</h2>
   <form method="post">
    {% csrf_token %}
    <label for="order_id">Enter Order ID (UUID):</label>
    <input type="text" name="order_id" id="order_id" class="form-control" placeholder="Enter Order ID" required>
    <button type="submit" class="btn btn-primary mt-2">Track Order</button>

    {% if error %}
      <p class="text-danger mt-2">{{ error }}</p>
    {% endif %}
  </form>

  {% if order %}
    <h4>Order Found</h4>
    <p><strong>ID:</strong> {{ order.order_id }}</p>
    <strong>Status:</strong>
    {% if order.status == 'PENDING' %}
      <span class="badge bg-secondary">Pending</span>
    {% elif order.status == 'PLACED' %}
      <span class="badge bg-info ">Placed</span>
    {% elif order.status == 'SHIPPED' %}
      <span class="badge bg-warning ">Shipped</span>
    {% elif order.status == 'DELIVERED' %}
      <span class="badge bg-success">Delivered</span>
    {% elif order.status == 'CANCELLED' %}
      <span class="badge bg-danger">Cancelled</span>
    {% endif %}
    <p><strong>Placed on:</strong> {{ order.created_at | date:"d F Y" }}</p>
    <p><strong>Total:</strong> â‚¹{{ order.total_price }}</p>
    <a href="{% url 'order_detail' order.order_id %}" class="btn btn-info">View Full Order</a>
  {% endif %}
{% endblock %}
